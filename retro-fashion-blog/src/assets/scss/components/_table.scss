@use '../abstracts/index' as abs;
@use '../components/buttons' as btns;


.table-wrapper {
  width: 100%;
  overflow-x: auto; // keep table usable on small screens
  margin: 20px 0;
  border-radius: 10px;
  box-shadow: 0 2px 8px rgba(0,0,0,0.08);
  
  height: 700px;
  position: relative;

  @include abs.custom-scrollbar(abs.$color-secondary,
    abs.$color-secondary-text,
    color-mix(in srgb, abs.$color-secondary-text, abs.$color-info-text 20%));

  table {
    width: 100%;
    border-collapse: collapse;
    font-family: 'Segoe UI', Tahoma, sans-serif;
    font-size: 0.95rem; 
    table-layout: auto;
    background-color: abs.$color-bg;
    color: abs.$color-text;

    thead {
      font-weight: 600;
      color: abs.$color-primary-text;
      th {
        text-align: left;
        padding: 12px 15px;
        border-bottom: 2px solid #e3e6ef;
        white-space: nowrap;

        // Sticky header row
        position: sticky;
        top: 0;
        z-index: 3;
        background-color: abs.$color-primary-hover;
      }

      // Sticky header for Actions col
      th:last-child {
        position: sticky;
        right: 0;
        background-color: abs.$color-primary-active;
        z-index: 4;
      }
    }

    tbody {
      tr {
        transition: background 0.2s ease;
        cursor: pointer;
        &:nth-child(odd) {
          background: rgba(abs.$color-info-rgb, 0.2) ; 
          
        }
        &:nth-child(even) {
          background: rgba(abs.$color-primary-rgb, 0.3) ; 
        }

        // Sticky Actions column cells
        td:last-child {
          position: sticky;
          right: 0;
          background: abs.$color-primary-hover;
          z-index: 2;
        }
        &:hover {
          background: rgba(abs.$color-primary-rgb, 0.1);
        }
      }

      td {
        padding: 10px 15px;
        border-bottom: 1px solid #eee;
        vertical-align: top;
        // white-space: nowrap;
        // text-wrap: auto;
        .td-content {
          max-width: 400px; 
          max-height: 200px;
          overflow: hidden;
          text-overflow: ellipsis;
          white-space: nowrap;

          h2 {
            font-size: 1rem;
            margin: 0 0 5px;
            color: #2a2a2a;
          }

          p {
            font-size: 0.85rem;
            color: #666;
          }
        }

        &.td-date {
          font-size: 0.85rem;
          color: #555;
          font-style: italic;
        }

        img {
          border-radius: 6px;
          object-fit: cover;
        }

        button {
          padding: 5px 12px;
          margin: 0 4px;
          border: none;
          border-radius: 6px;
          font-size: 0.85rem;
          cursor: pointer;
          transition: background 0.2s ease;

          &:first-child {
            @extend .btn-primary; 
            
          }

          &:last-child {
             @extend .btn-danger; 
          }
        }
      }


    }
  }
}



// .table-wrapper {
//    max-width: 1200px;
//    max-height: 600px;
//    height: 600px;
//    overflow-y: scroll;
//    overflow-x: scroll;
//    position: relative;
  
//    margin: 0 auto;

//     table {
//       border: 1px solid black;
//       margin: 20px;
//       td {
//       /* max-width: 300px;
//             max-height: 100px; */
//         border: 1px solid black;
//         padding: 10px;
//         text-align: center;
//       }
//     }
    
//     .td-date {
//       white-space: nowrap;
//       color: blue;
//     }
//     .td-content {
//       max-width: 300px;
//       max-height: 200px;
//       overflow-y: auto; 
//       overflow-x: auto; 
//     }

//     button {
//       cursor: pointer;
//     }
  
// }