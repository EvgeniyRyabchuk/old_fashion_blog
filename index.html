<!DOCTYPE html> <!-- версию html 5-->

<html lang="en">

<head>
   <meta charset="UTF-8"> <!-- кодировка -->
   <meta name="viewport" content="width=device-width, initial-scale=1.0">
   <!-- сообщить браузеру что мы делаем сайт в том числе и для телефонов  -->
   <title>Main page</title> <!-- заголовок вкладки  -->

   <script src="https://www.gstatic.com/firebasejs/11.0.2/firebase-app-compat.js"></script>
   <script src="https://www.gstatic.com/firebasejs/11.0.2/firebase-analytics-compat.js"></script>
   <script src="https://www.gstatic.com/firebasejs/11.0.2/firebase-auth-compat.js"></script>
   <script src="https://www.gstatic.com/firebasejs/11.0.2/firebase-firestore-compat.js"></script>
   <script src="https://www.gstatic.com/firebasejs/11.0.2/firebase-storage-compat.js"></script>

   <!-- Quill CSS -->
   <link href="https://cdn.quilljs.com/1.3.7/quill.snow.css" rel="stylesheet">

   <!-- Quill JS -->
   <script src="https://cdn.quilljs.com/1.3.7/quill.js"></script>

   <!-- Quill Image Resize Module -->
   <script src="https://cdn.jsdelivr.net/npm/quill-image-resize-module@3.0.0/image-resize.min.js"></script>


</head>
<!-- отображаеться все что пользователь видет на странице -->

<body>

   <div class="upload_container" style="margin: 30px; border: 1px solid black;">
      <h2>Create Post</h2>
      <input type="text" id="title" placeholder="Post title"><br><br>


      <!-- category -->
      <div>
         <label for="city-select">Category</label>
         <select name="city" id="city-select">
            <option value="">-- Select category --</option>
            <option value="1">50</option>
            <option value="2">60</option>
            <option value="3">70</option>
         </select>
      </div>

      <!-- date_range  -->
      <div class="year-range">
         <label for="startYear">From:</label>
         <input type="number" id="startYear" name="startYear" min="2000" max="2099" step="1" value="2020">

         <label for="endYear">To:</label>
         <input type="number" id="endYear" name="endYear" min="2000" max="2099" step="1" value="2025">

         <button id="filterPosts">Filter Posts</button>
      </div>

      <!-- tags -->
      <div class="tag-manager">
         <label for="tagInput">Tags:</label>
         <input type="text" id="tagInput" placeholder="Type a tag and press Enter">
         <div id="tagsContainer" class="tags"></div>
      </div>

      <style>
         .tags {
            display: flex;
            flex-wrap: wrap;
            gap: 5px;
            margin-top: 8px;
         }

         .tag {
            background: #eee;
            padding: 5px 10px;
            border-radius: 20px;
            display: flex;
            align-items: center;
            gap: 5px;
         }

         .tag span {
            cursor: pointer;
            font-weight: bold;
         }
      </style>

      <script>
         const tagInput = document.getElementById("tagInput");
         const tagsContainer = document.getElementById("tagsContainer");
         let tags = [];

         // Add tag on Enter
         tagInput.addEventListener("keydown", (e) => {
            if (e.key === "Enter" && tagInput.value.trim() !== "") {
               e.preventDefault();
               const newTag = tagInput.value.trim();

               if (!tags.includes(newTag)) {
                  tags.push(newTag);
                  renderTags();
               }

               tagInput.value = "";
            }
         });

         // Render tags
         function renderTags() {
            tagsContainer.innerHTML = "";
            tags.forEach((tag, index) => {
               const tagEl = document.createElement("div");
               tagEl.classList.add("tag");
               tagEl.innerHTML = `${tag} <span onclick="removeTag(${index})">×</span>`;
               tagsContainer.appendChild(tagEl);
            });
         }

         // Remove tag
         function removeTag(index) {
            tags.splice(index, 1);
            renderTags();
         }
      </script>

      <!-- Cloudinary unsigned upload -->
      <input type="file" id="quillImageInput" style="display:none">
      <input type="file" id="coverImg" accept="image/*" style="margin-top:10px;" />
      <p id="preview"></p>

      <!-- Add built-in Quill toolbar options -->
      <div id="toolbar">
         <!-- Basic formatting -->
         <span class="ql-formats">
            <button class="ql-bold"></button>
            <button class="ql-italic"></button>
            <button class="ql-underline"></button>
            <button class="ql-strike"></button>
         </span>

         <!-- Headers -->
         <span class="ql-formats">
            <select class="ql-header">
               <option selected></option>
               <option value="1"></option>
               <option value="2"></option>
               <option value="3"></option>
            </select>
         </span>

         <!-- Lists -->
         <span class="ql-formats">
            <button class="ql-list" value="ordered"></button>
            <button class="ql-list" value="bullet"></button>
            <button class="ql-indent" value="-1"></button>
            <button class="ql-indent" value="+1"></button>
         </span>

         <!-- Links, Images, Videos -->
         <span class="ql-formats">
            <button class="ql-link"></button>
            <button class="ql-image"></button>
            <button class="ql-video"></button>
         </span>

         <!-- Text color and alignment -->
         <span class="ql-formats">
            <select class="ql-color"></select>
            <select class="ql-background"></select>
            <select class="ql-align"></select>
         </span>

         <!-- Clean formatting -->
         <span class="ql-formats">
            <button class="ql-clean"></button>
         </span>
      </div>

      <div id="editor" style="height: 300px;"></div>

      <hr />
      <br /><br /><br /><br><br />




      <!-- <textarea id="content" placeholder="Post content"></textarea><br><br> -->

      <!-- Image File Selector -->
      <!-- <input type="file" id="imageInput" accept="image/*"> -->

      <br><br>

      <!-- Upload Button -->
      <!-- <button id="uploadBtn">Upload Image</button>   -->


      <!-- Save Post -->
      <button id="savePost">Save Post</button>
   </div>



   <nav>
      <ul>
         <li><a href="./index.html">Home</a></li>

         <li>
            <a href="./page2.html">Posts</a>
            <ul>
               <li><a href="./posts.html">All posts</a></li>
               <li><a href="./posts.html">News</a></li>
               <li><a href="./posts.html">Guide</a></li>
            </ul>

         </li>
         <li><a href="./galerry.html">Gallery</a></li>
         <li><a href="./about.html">About</a></li>
         <li><a href="./contact.html">Contact</a></li>

         <br />
         <hr />
         <br />


         <li><a href="./auth/login.html">Login</a></li>
         <li><a href="./auth/signUp.html">Sign Up</a></li>
         <li>
            <a href="./">
               Profile
            </a>
            <ul>
               <li><a href="./posts.html">My posts</a></li>
               <li><a href="./profile/setting.html">Settings</a></li>
               <li><a href="./profile/comments.html">Comments</a></li>
               <li><button type="button" onclick="logout()">Logout</button></li>
            </ul>
         </li>
      </ul>
      <br />

      <input type="text" placeholder="Search..." />
   </nav>

   <br />
   <br />
   <br />
   <br />
   <br />
   <br />
   <br />

   <ul id="postsList"></ul>


   <div>
      <h2>Sign Up</h2>
      <input id="regName" type="text" placeholder="Name">
      <input id="regEmail" type="email" placeholder="Email">
      <input id="regPassword" type="password" placeholder="Password">
      <button onclick="register()">Sign Up</button>
   </div>


   <div>
      <h2>Login</h2>
      <input id="email" type="email" placeholder="Email">
      <input id="password" type="password" placeholder="Password">
      <button onclick="login()">Login</button>
   </div>


   <script src="./js/service/index.js"></script>
   <script src="./js/service/auth.js"></script>

   <script src="./js/image_upload.js"></script>
   <script src="./js/service/posts.js"></script>

</body>

</html>